<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form H - PNDT Act Registry</title>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            margin: 0;
            padding: 20px;
            background-color: #f9f9f9;
            line-height: 1.4;
        }

        .form-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            border: 1px solid #ccc;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
        }

        .form-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        .form-subtitle {
            font-size: 14px;
            font-style: italic;
            margin-bottom: 10px;
        }

        .page-info {
            text-align: right;
            font-size: 12px;
            margin-bottom: 20px;
        }

        .form-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }

        .form-table th {
            background-color: #f0f0f0;
            border: 1px solid #333;
            padding: 8px;
            text-align: left;
            font-weight: bold;
            vertical-align: top;
            width: 20%;
        }

        .form-table td {
            border: 1px solid #333;
            padding: 8px;
            vertical-align: top;
            height: 40px;
        }

        .serial-no {
            width: 5%;
            text-align: center;
        }

        .footer {
            margin-top: 50px;
            text-align: right;
            border-top: 1px solid #333;
            padding-top: 20px;
        }

        .signature-line {
            margin-top: 60px;
            text-align: right;
        }

        .asterisk-note {
            font-size: 11px;
            margin-top: 5px;
            font-style: italic;
        }

        .data-field {
            min-height: 35px;
            padding: 5px;
        }

        /* Print styles */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .form-container {
                box-shadow: none;
                border: none;
                padding: 0;
            }
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body>
<div class="form-container">
    <!-- Page Header -->
    <div class="page-info">
        Page No. <span th:text="${pageNumber}">1</span>
    </div>

    <div class="header">
        <div class="form-title">Form - H</div>
        <div class="form-subtitle">
            [See Rule 9(5)]
        </div>
        <div style="font-size: 16px; font-weight: bold; margin-top: 10px;">
            FORM FOR MAINTENANCE OF PERMANENT RECORD OF APPLICATIONS FOR GRANT/REJECTION OF REGISTRATION<br>
            UNDER THE PRE-NATAL DIAGNOSTIC TECHNIQUES (REGULATION AND PREVENTION OF MISUSE) ACT, 1994
        </div>
    </div>

    <!-- Main Form Table -->
    <table class="form-table">
        <tr>
            <th class="serial-no">1. Sl. No</th>
            <td class="serial-no" th:text="${record.slNo}"></td>
        </tr>

        <tr>
            <th>2. File number of Appropriate Authority</th>
            <td class="data-field" th:text="${record.fileNumber}"></td>
        </tr>

        <tr>
            <th>3. Date of receipt of application for grant of registration</th>
            <td class="data-field" th:text="${#temporals.format(record.receiptDate, 'dd-MM-yyyy')}"></td>
        </tr>

        <tr>
            <th>4. Name, Address, Phone/Fax etc. of Applicant</th>
            <td class="data-field">
                <div><strong th:text="${record.applicantName}"></strong></div>
                <div th:text="${record.applicantAddress}"></div>
                <div th:text="${'Phone: ' + record.phoneNumber}"></div>
                <div th:if="${record.email}" th:text="${'Email: ' + record.email}"></div>
                <div th:if="${record.fax}" th:text="${'Fax: ' + record.fax}"></div>
                <div th:utext="${#strings.replace(record.applicantDetails, '\\n', '&lt;br&gt;')}">
                        Applicant details
                    </div>

            </td>
        </tr>

        <tr>
            <th>
                5. Name and address(es) of Genetic Counselling Centre* /
                Genetic Laboratory* / Genetic Clinic* / Ultrasound Clinic* /
                Imaging Centre*
                <div class="asterisk-note">*Strike out whichever is not applicable</div>
            </th>
            <td class="data-field">
                <div><strong th:text="${record.facilityName}"></strong></div>
                <div th:text="${record.facilityAddress}"></div>
                <div th:text="${'Type: ' + record.facilityType}"></div>
                <div th:text="${'District: ' + record.district}"></div>
            </td>
        </tr>

        <tr>
            <th>
                6. Date of consideration by Advisory Committee and
                recommendation of Advisory Committee, in summary
            </th>
            <td class="data-field">
                <div th:if="${record.advisoryCommitteeDate}">
                    <strong>Date: </strong><span th:text="${#temporals.format(record.advisoryCommitteeDate, 'dd-MM-yyyy')}"></span>
                </div>
                <div th:if="${record.recommendationSummary}" style="margin-top: 10px;">
                    <strong>Recommendation Summary:</strong><br>
                    <span th:text="${record.recommendationSummary}">Recommended for approval after physical verification</span>
                </div>
                <div th:text="${record.advisorySummary}">Pending Advisory Review</div>
            </td>
        </tr>

        <tr>
            <th>
                7. Outcome of application (state granted/rejected and date of
                issue of orders - record date of issue of order in Form B or Form C)
            </th>
            <td class="data-field">
                <div th:if="${record.outcome}">
                    <strong>Status: </strong><span th:text="${record.outcome}"></span>
                </div>
                <div th:if="${record.orderDate}">
                    <strong>Order Date: </strong><span th:text="${#temporals.format(record.orderDate, 'dd-MM-yyyy')}"></span>
                </div>
                <div th:if="${record.formType}">
                    <strong></strong><span th:text="${record.formType}"></span>
                </div>
            </td>
        </tr>

        <tr>
            <th>8. Registration number allotted and date of expiry of registration</th>
            <td class="data-field">
                <div th:if="${record.registrationNumber}">
                    <strong>Registration No: </strong><span th:text="${record.registrationNumber}"></span>
                </div>
                <div th:if="${record.expiryDate}">
                    <strong>Expiry Date: </strong><span th:text="${#temporals.format(record.expiryDate, 'dd-MM-yyyy')}"></span>
                </div>
            </td>
        </tr>

        <tr>
            <th>9. Renewals (date of renewal and renewed upto)</th>
            <td class="data-field">
                <div th:each="renewal, iter : ${record.renewals}">
                    <div th:if="${iter.index > 0}"><hr></div>
                    <div><strong>Renewal Date: </strong><span th:text="${#temporals.format(renewal.renewalDate, 'dd-MM-yyyy')}"></span></div>
                    <div><strong>Renewed Upto: </strong><span th:text="${#temporals.format(renewal.renewedUpto, 'dd-MM-yyyy')}"></span></div>
                    <span th:text="${record.renewalDetails}"></span>
                </div>
            </td>
        </tr>

        <tr>
            <th>10. File number in which renewals dealt</th>
            <td class="data-field" th:text="${record.renewalFileNumber}"></td>
        </tr>

        <tr>
            <th>11. Additional information, if any</th>
            <td class="data-field" th:text="${record.additionalInfo}">Previous registration expired on . Applied for renewal within stipulated time.</td>
        </tr>
    </table>

    <!-- Footer and Signature -->
    <div class="footer">
        <div class="page-info">
            Page No. <span ></span>
        </div>

        <div class="signature-line">
            <div>Name, Designation & Signature of Appropriate Authority</div>
            <div style="margin-top: 80px; border-top: 1px solid #333; width: 300px; margin-left: auto;">
                <div style="text-align: center; padding-top: 5px;">
                    <span th:text="${authorityName}">Dr.</span><br>
                    <span th:text="${authorityDesignation}">Chief District Medical Officer</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Print Button (hidden during print) -->
<div class="no-print" style="text-align: center; margin-top: 20px;">
    <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
        Print Form
    </button>
</div>
</body>
</html>