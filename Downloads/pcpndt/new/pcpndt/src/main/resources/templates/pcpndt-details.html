<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>PC-PNDT Application Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <a href="/pcpndt/search" class="btn btn-secondary mb-3">‚Üê Back to Search</a>

    <div th:if="${found}">
        <div class="card">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">
                    <i class="fas fa-file-alt"></i> PC-PNDT Application -
                    <span th:text="${application.applRefNo}"></span>
                </h4>
            </div>
            <div class="card-body">
                <!-- Basic Information -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <h5 class="border-bottom pb-2">Basic Information</h5>
                        <table class="table table-bordered">
                            <tr>
                                <th width="40%">Application ID:</th>
                                <td th:text="${application.applId}"></td>
                            </tr>
                            <tr>
                                <th>Service Name:</th>
                                <td th:text="${application.serviceName}"></td>
                            </tr>
                            <tr>
                                <th>Applicant Name:</th>
                                <td th:text="${application.applicantName}"></td>
                            </tr>
                            <tr>
                                <th>Centre Name:</th>
                                <td th:text="${application.nameOfCentre}"></td>
                            </tr>
                            <tr>
                                <th>Application Type:</th>
                                <td>
                                        <span th:text="${application.applicationType}"
                                              th:class="${application.applicationType == 'Registered (Form B Issued )'} ? 'badge bg-success' :
                                                         ${application.applicationType == 'Renewal'} ? 'badge bg-warning' :
                                                         ${application.applicationType == 'Applied (From B to be Issued)'} ? 'badge bg-info' : 'badge bg-secondary'">
                                        </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h5 class="border-bottom pb-2">Contact Information</h5>
                        <table class="table table-bordered">
                            <tr>
                                <th width="40%">Mobile No:</th>
                                <td th:text="${application.mobileNo}"></td>
                            </tr>
                            <tr>
                                <th>Email:</th>
                                <td th:text="${application.email}"></td>
                            </tr>
                            <tr>
                                <th>Submission Location:</th>
                                <td th:text="${application.submissionLocation}"></td>
                            </tr>
                            <tr>
                                <th>Submission Date:</th>
                                <td th:text="${application.submissionDate}"></td>
                            </tr>
                            <tr>
                                <th>Due Date:</th>
                                <td th:text="${application.dueDate}"></td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Ownership Details -->
                <div class="row mb-4">
                    <div class="col-12">
                        <h5 class="border-bottom pb-2">Ownership & Institution Details</h5>
                        <table class="table table-bordered">
                            <tr>
                                <th width="30%">Type of Institution:</th>
                                <td th:text="${application.typeOfInstitution}"></td>
                            </tr>
                            <tr>
                                <th>Type of Ownership:</th>
                                <td th:text="${application.typeOfOwnership}"></td>
                            </tr>
                            <tr>
                                <th>Ownership Name:</th>
                                <td th:text="${application.ownershipName}"></td>
                            </tr>
                            <tr>
                                <th>Ownership Address:</th>
                                <td th:text="${application.ownershipAddress}"></td>
                            </tr>
                            <tr>
                                <th>Routing Location:</th>
                                <td th:text="${application.routingLocationName}"></td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Payment Information -->
                <div th:if="${application.paymentAmount != null && application.paymentAmount != ''}" class="row mb-4">
                    <div class="col-12">
                        <h5 class="border-bottom pb-2">Payment Information</h5>
                        <table class="table table-bordered">
                            <tr>
                                <th width="30%">Payment Amount:</th>
                                <td th:text="${application.paymentAmount}"></td>
                            </tr>
                            <tr>
                                <th>Payment Date:</th>
                                <td th:text="${application.paymentDate}"></td>
                            </tr>
                            <tr>
                                <th>Payment Reference No:</th>
                                <td th:text="${application.paymentReferenceNo}"></td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Additional Information -->
                <div class="row">
                    <div class="col-12">
                        <h5 class="border-bottom pb-2">Additional Information</h5>
                        <div class="row">
                            <div class="col-md-6">
                                <strong>Base Service ID:</strong>
                                <span th:text="${application.baseServiceId}"></span>
                            </div>
                            <div class="col-md-6">
                                <strong>Service ID:</strong>
                                <span th:text="${application.serviceId}"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer text-muted">
                Last updated: Application details as per submission
            </div>
        </div>
    </div>

    <div th:unless="${found}" class="alert alert-danger text-center">
        <h4>Application Not Found</h4>
        <p>No PC-PNDT application found with reference number:
            <strong th:text="${applRefNo}"></strong>
        </p>
        <a href="/pcpndt/search" class="btn btn-primary">Search Again</a>
        <a href="/pcpndt/all" class="btn btn-secondary">View All Applications</a>
    </div>
</div>
</body>
</html>